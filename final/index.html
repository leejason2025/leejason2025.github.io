<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap');

        body {
            font-family: 'Raleway', sans-serif;
            margin: 2%;
            padding: 0 5%;
            text-align: center;
            background-color: #E7E9F0;
            color: #051747;
        }

        .title-block {
            background-color: #081F62;
            color: #E7E9F0;
            padding: 4% 2%;
            margin-bottom: 3%;
            text-align: center;
        }

        h1 {
            font-size: 2.7em;
            margin-bottom: 1%;
        }

        h2 {
            font-size: 2.2em;
            margin-bottom: 1%;
        }

        h3 {
            font-size: 1.8em;
        }

        section h2 {
            font-size: 1.8em;
            margin-bottom: 2%;
            margin-top: 5%;
            position: relative;
        }

        section h2::after {
            content: '';
            display: block;
            width: 10%;
            height: 3px;
            background-color: #081F62;
            margin: 1% auto;
        }

        section {
            margin-bottom: 3%;
        }

        .image-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1px;
            justify-items: center;
        }

        img {
            max-width: 100%;
            width: 400px;
            height: auto;
            border: 5px solid #535F80;
        }

        p {
            text-align: left;
            margin-bottom: 2%;
            font-size: 1.1em;
            line-height: 1.6em;
        }
    </style>
</head>
<body>
    <div class="title-block">
        <h1>Final Project</h1>
        <h2>CS 180 Projects: Light Field Camera & Gradient Domain Fusion</h2>
        <h3>Jason Lee</h3>
    </div>

    <section id="project1">
        <h2>Project 1: Light Field Camera</h2>
        <p> This project explores computational photography techniques using light field data, 
            inspired by Ren Ng's groundbreaking work on light field cameras. The goal is to 
            achieve advanced image manipulations like depth refocusing and aperture adjustment 
            using real datasets from the Stanford Light Field Archive. By leveraging multiple 
            images captured over a grid orthogonal to the optical axis, we demonstrate how simple
            operations like shifting and averaging can produce visually striking results.</p>
        <section id="depth-refocusing">
            <h2>Depth Refocusing</h2>
            <p>
                Depth refocusing allows us to explore how focus changes across different depths in a scene. 
                In a light field dataset, nearby objects exhibit more noticeable positional variation across 
                the grid of images compared to distant objects. Averaging all images without any adjustments 
                results in a sharp background and a blurry foreground. To control the focus, we shift each 
                image relative to a central reference based on its offset. By scaling this shift using a constant factor C, 
                we can dynamically adjust the focus, bringing different depths into clarity. The results demonstrate 
                the ability to manipulate depth of field interactively.
            </p>
            <div class="image-container" style="grid-template-columns: repeat(4, 1fr);">
            <figure>
                <img src="media/d-1.0.png" alt="Depth Refocused Image 1">
                <figcaption>C = -1.0</figcaption>
            </figure>
            <figure>
                <img src="media/d-0.5.png" alt="Depth Refocused Image 2">
                <figcaption>C = -0.5</figcaption>
            </figure>
            <figure>
                <img src="media/d-0.3.png" alt="Depth Refocused Image 3">
                <figcaption>C = -0.3</figcaption>
            </figure>
            <figure>
                <img src="media/d-0.1.png" alt="Depth Refocused Image 4">
                <figcaption>C = -0.1</figcaption>
            </figure>
            <figure>
                <img src="media/d0.0.png" alt="Depth Refocused Image 5">
                <figcaption>C = 0.0</figcaption>
            </figure>
            <figure>
                <img src="media/d0.3.png" alt="Depth Refocused Image 6">
                <figcaption>C = 0.3</figcaption>
            </figure>
            <figure>
                <img src="media/d0.5.png" alt="Depth Refocused Image 7">
                <figcaption>C = 0.5</figcaption>
            </figure>
            <figure>
                <img src="media/d1.0.png" alt="Depth Refocused Image 8">
                <figcaption>C = 1.0</figcaption>
            </figure>
        </div>
        </section>

        <section id="aperture-adjustment">
            <h2>Aperture Adjustment</h2>
            <p>
                Aperture adjustment allows us to simulate the effects of varying aperture sizes on an 
                image's depth of field. A smaller aperture produces a deeper focus, while a 
                larger aperture results in a shallower depth of field. To replicate this, we 
                selectively include images from the light field dataset, starting with only the 
                central image and gradually adding more based on their distance from the center. 
                The Euclidean distance between each image's grid position and the center image 
                determines its inclusion radius. As we increase this radius, the background and 
                foreground blur more significantly, mimicking the effect of a larger aperture. 
                The results demonstrate these changes step by step.
            </p>
            <div class="image-container" style="grid-template-columns: repeat(3, 1fr);">
            <figure>
                <img src="media/a1.0.png" alt="Aperture Adjustment Image 1">
                <figcaption>a = 1.0</figcaption>
            </figure>
            <figure>
                <img src="media/a3.0.png" alt="Aperture Adjustment Image 2">
                <figcaption>a = 3.0</figcaption>
            </figure>
            <figure>
                <img src="media/a5.0.png" alt="Aperture Adjustment Image 3">
                <figcaption>a = 5.0</figcaption>
            </figure>
            <figure>
                <img src="media/a7.0.png" alt="Aperture Adjustment Image 4">
                <figcaption>a = 7.0</figcaption>
            </figure>
            <figure>
                <img src="media/a9.0.png" alt="Aperture Adjustment Image 5">
                <figcaption>a = 9.0</figcaption>
            </figure>
            <figure>
                <img src="media/a11.0.png" alt="Aperture Adjustment Image 6">
                <figcaption>a = 11.0</figcaption>
            </figure>
        </div>
        </section>

        <section id="summary">
            <h2>Summary</h2>
            <p>
                Through this project, I gained a deeper understanding of the principles 
                and potential of light field photography. I learned how capturing images 
                over a grid enables powerful post-processing effects, such as depth refocusing 
                and aperture adjustment, using simple operations like shifting and averaging. 
                This highlighted how spatial information within light fields can be harnessed 
                to manipulate focus and simulate varying apertures, enhancing flexibility in 
                computational photography. Additionally, I appreciated the elegance of these 
                techniques and their practical applications in modern imaging technologies.
            </p>
        </section>
    </section>

    <section id="project2">
        <h2>Project 2: Gradient Domain Fusion</h2>
        <p>
            This project highlights the power and flexibility of gradient-domain techniques in computational photography. 
            By focusing on gradients rather than raw pixel values, Poisson blending achieves seamless results in cases 
            where simple copy-paste methods fail. Through this exploration, we gain a deeper understanding of the mathematical 
            and visual principles underlying modern image editing tools.
        </p>
        <section id="toy-problem">
        <h2>Toy Problem</h2>
        <p>
            The toy problem demonstrates the fundamentals of gradient-domain processing by
            reconstructing an image from its gradients. The objective is to recover the image
            intensities by minimizing the difference between the gradients of the reconstructed
            image and those of the source image for every pixel. This involves solving a 
            least-squares optimization problem using a sparse matrix representation to conserve 
            memory and improve computational efficiency.
            To achieve this, three main objectives were defined:
        <div class="image-container">
            <img src="media/obj.png" alt="Poisson Blending Example 1">
        </div>
        <div class="image-container" style="grid-template-columns: repeat(2, 1fr);">
            <figure>
                <img src="media/toy1.png" alt="Toy Problem Example 1">
                <figcaption>Original toy image</figcaption>
            </figure>
            <figure>
                <img src="media/toy2.png" alt="Toy Problem Example 2">
                <figcaption>Reconstructed toy image</figcaption>
            </figure>
            <figure>
                <img src="media/p1.jpg" alt="Toy Problem Example 3">
                <figcaption>Original penguin image</figcaption>
            </figure>
            <figure>
                <img src="media/p2.jpg" alt="Toy Problem Example 3">
                <figcaption>Reconstructed penguin image</figcaption>
            </figure>
        </div>
    </section>

    <section id="poisson-blending">
        <h2>Poisson Blending</h2>
        <p>
            The Poisson blending section explores seamlessly integrating objects from one 
            image into another using gradient-domain techniques. The process is guided by the 
            equation shown in the image below, which defines a least-squares optimization problem
            to preserve the source image's gradients while blending smoothly into the target background. 
            This approach ensures natural transitions and minimizes perceptual seams at the boundaries of the blended region.
            Two tests were conducted to demonstrate the effectiveness of Poisson blending: integrating 
            penguins onto snowy landscapes. These examples highlight the method's ability to maintain 
            realistic lighting and texture consistency, creating visually seamless composites.
        </p>
        <div class="image-container">
            <img src="media/eq.png" alt="Poisson Blending Example 1">
        </div>
        <div class="image-container" style="grid-template-columns: repeat(3, 1fr);">
            <figure>
                <img src="media/penguin-chick.jpeg" alt="Toy Problem Example 1">
                <figcaption>Original Penguin Image</figcaption>
            </figure>
            <figure>
                <img src="media/im2.JPG" alt="Toy Problem Example 2">
                <figcaption>Snowy Background</figcaption>
            </figure>
            <figure>
                <img src="media/pcrop1.png" alt="Toy Problem Example 3">
                <figcaption>Defining Mask</figcaption>
            </figure>
            <figure>
                <img src="media/pmask1.png" alt="Toy Problem Example 3">
                <figcaption>Mask</figcaption>
            </figure>
            <figure>
                <img src="media/pmerge1.jpg" alt="Toy Problem Example 3">
                <figcaption>Naive Image Blend</figcaption>
            </figure>
            <figure>
                <img src="media/pblend1.jpg" alt="Toy Problem Example 3">
                <figcaption>Poisson Blended Image</figcaption>
            </figure>
            <figure>
                <img src="media/penguin.jpg" alt="Toy Problem Example 1">
                <figcaption>Original Penguin Image</figcaption>
            </figure>
            <figure>
                <img src="media/im3.jpg" alt="Toy Problem Example 2">
                <figcaption>Snowy Background</figcaption>
            </figure>
            <figure>
                <img src="media/pcrop2.png" alt="Toy Problem Example 3">
                <figcaption>Defining Mask</figcaption>
            </figure>
            <figure>
                <img src="media/pmask2.png" alt="Toy Problem Example 3">
                <figcaption>Mask</figcaption>
            </figure>
            <figure>
                <img src="media/pmerge2.jpg" alt="Toy Problem Example 3">
                <figcaption>Naive Image Blend</figcaption>
            </figure>
            <figure>
                <img src="media/pblend2.jpg" alt="Toy Problem Example 3">
                <figcaption>Poisson Blended Image</figcaption>
            </figure>
        </div>
    </section>

    <section id="bells-and-whistles">
        <h2>Bells and Whistles: Enhanced Grayscale</h2>
        <p>
            Using enhanced grayscale techniques, I implemented color2gray where the gradients are carefully 
            preserved and emphasized during the conversion process. This ensures that important 
            features, such as the numbers, stand out clearly against the background. The result 
            is a grayscale image with significantly improved detail retention, making the numbers more evident and visually distinct.
        </p>
        <div class="image-container" style="grid-template-columns: repeat(3, 1fr);">
            <figure>
                <img src="media/color1.png" alt="Toy Problem Example 1">
                <figcaption>Original Color Test</figcaption>
            </figure>
            <figure>
                <img src="media/colorgray1.png" alt="Toy Problem Example 2">
                <figcaption>Direct Gray Scale</figcaption>
            </figure>
            <figure>
                <img src="media/coloregray2.jpg" alt="Toy Problem Example 3">
                <figcaption>Enhanced Gray Scale</figcaption>
            </figure>
            <figure>
                <img src="media/color2.png" alt="Toy Problem Example 1">
                <figcaption>Original Color Test</figcaption>
            </figure>
            <figure>
                <img src="media/colorgray2.png" alt="Toy Problem Example 2">
                <figcaption>Direct Gray Scale</figcaption>
            </figure>
            <figure>
                <img src="media/coloregray2.jpg" alt="Toy Problem Example 3">
                <figcaption>Enhanced Gray Scale</figcaption>
            </figure>
        </div>
    </section>
    </section>
</body>
</html>
